{% extends 'base.html' %}

{% load staticfiles %}
{% load thumbnail %}

{% block title %}
    {{ block.super }}
    Привет мир
{% endblock %}

{% block styles %}
    {{ block.super }}
    <link href="{% static "styles/video.sass" %}" rel="stylesheet" type="text/x-sass">
{% endblock %}

{% block js %}
    {{ block.super }}
    <script src="{% static "js/video.js" %}" type="text/javascript"></script>
{% endblock %}

{% block content %}
    <h1 class="hidden">Video</h1>
    <img class="h1" src="{% static "images/h1/video.svg" %}">

    <div class="video-container">
        {% for video in videos %}
            <div class="video-item">
                <div class="inner">
                    <div class="image-wrapper toggle-modal" data-toggle="video-{{ video.id }}">
                        <img src="{{ video.thumbnail }}">
                    </div>
                    <h2>{{ video }}</h2>
                    <a href="#" class="toggle-modal" data-toggle="video-description-{{ video.id }}">(description)</a>
                </div>
            </div>
        {% endfor %}
        <div class="clearfix"></div>
    </div>
{% endblock %}

{% block modals %}
    {{ block.super }}

    {% for video in videos %}
        {# Description #}
        <div class="modal" id="video-description-{{ video.id }}">
            <div class="middle">
                <div class="inner">
                    {{ video.translation.description|safe }}
                </div>
            </div>
        </div>

        {# Video #}
        <div class="modal" id="video-{{ video.id }}">
            <div class="middle">
                <div class="inner video">
                    <iframe width="800" height="500" src="{{ video.embedded_video_url }}?enablejsapi=1" frameborder="0" allowfullscreen></iframe>
                </div>
            </div>
        </div>
    {% endfor %}
{% endblock %}
